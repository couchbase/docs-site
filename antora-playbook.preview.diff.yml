# RUN:
#  scripts/patch-playbook antora-playbook.yml antora-playbook.preview.diff.yml > antora-playbook.preview.yml

antora:
  extensions:
  - ./lib/preview.js
  - ./lib/report-tree.js

site:
  title: Couchbase Docs Preview
  robots: disallow
  keys:
    nav_groups: |
        [
          { "title": "Server", "startPage": "home::server.adoc", "components": ["server", "enterprise-analytics"] },
          { "title": "MobileÂ / Edge", "startPage": "home::mobile.adoc", "components": ["couchbase-lite", "couchbase-lite-javascript", "sync-gateway", "couchbase-edge-server"] },
          { "title": "Capella", "startPage": "home::cloud.adoc", "components": ["cloud", "analytics", "ai"] },
          { "title": "Cloud-Native", "components": ["cloud-native-database"] },
          { "title": "Kubernetes Operator", "startPage": "operator::overview.adoc", "components": ["operator"] },
          { "title": "CMOS", "components": ["cmos"] },
          { "title": "Develop", "startPage": "home::developer.adoc",
              "subGroups": [
                {
                  "title": "Operational SDKs",
                  "startPage": "home::sdk.adoc",
                  "components": ["develop", "dotnet-sdk", "efcore-provider", "c-sdk", "cxx-sdk", "go-sdk", "java-sdk", "quarkus-extension", "kotlin-sdk", "nodejs-sdk", "php-sdk", "python-sdk", "ruby-sdk", "rust-sdk", "scala-sdk", "elasticsearch-connector", "kafka-connector", "spark-connector", "tableau-connector", "power-bi-connector", "superset-connector", "sdk-extensions"]
                },
                {
                  "title": "Analytics SDKs",
                  "startPage": "home::analytics-sdk.adoc",
                  "components": ["*-analytics-sdk", "*-columnar-sdk"]
                }
              ]
            },
          { "title": "Tutorials", "startPage": "tutorials::index.adoc", "components": ["tutorials"] },
          { "title": "Contribute", "components": ["home", "styleguide", "ui-ux", "pendo"] }
        ]

content:
  sources:
  - url: https://github.com/couchbaselabs/docs-ai
    branches: [main]

asciidoc:
  attributes:
    kroki-server-url: null
    page-show-preview-banner: true
    page-watermark: preview@
    # page-chatbot-origin: https://dfddckwnvn0ml.cloudfront.net # Production, via Elliot
    page-chatbot-origin: https://d2tkqbbgxczr0v.cloudfront.net # Staging, via Elliot

ui:
  bundle:
    url: https://github.com/couchbase/docs-ui/releases/download/prod-217/ui-bundle.zip
